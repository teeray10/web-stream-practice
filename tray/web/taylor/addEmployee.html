<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">

  <title>Employee API Client</title>
  <meta name="description" content="Employee API Client">
  <meta name="author" content="Taylor Ray">

  <link rel="stylesheet" href="styles.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
</head>

<body>
    <input type="text" placeholder="Employee ID" id="employee-id" />
    <input type="text" placeholder="Name" id="name" />
    <input type="text" placeholder="Annual Gross Salary" id="annual-gross-salary" />
    <br>
    <button class="btn btn-primary" id="submit-button">Add</button>
    <br>
    <button id="back" class="btn btn-primary" onclick="location.href='index.html'">Back</button>

    <script>
        let submitButton = document.getElementById('submit-button');
        let employeeId = document.getElementById('employee-id');
        let name = document.getElementById('name');
        let annualGrossSalary = document.getElementById('annual-gross-salary');
        submitButton.addEventListener('click', addEmployee);
        

        async function addEmployee() {
            console.log('comes here');
            const url = "http://localhost:8080/employee/add";
            const employee = {
                employeeId: employeeId.value,
                name: name.value,
                annualGrossSalary: annualGrossSalary.value
            };
            const params = {
                headers: {
                    "Content-Type" : "application/json"
                },
                body: JSON.stringify(employee),
                method: "POST"
            };

            console.log(employee);
            await fetch(url, params)
            .then((response) => {
                console.log(response.status);
                if (response.status === 200) {
                    alert("Employee added successfully");
                }
            });

        }
    </script>
  <script src="script.js"></script>
</body>
</html> 