<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">

  <title>Employee API Client</title>
  <meta name="description" content="Employee API Client">
  <meta name="author" content="Taylor Ray">

  <link rel="stylesheet" href="styles.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">

</head>

<body>
    <input type="text" placeholder="Employee ID" id="employee-id" />
    <input type="submit" value="Delete" id="submit-button" />
    <button id="back" onclick="location.href='index.html'">Back</button>

    <script>
        let employeeId = document.getElementById("employee-id");
        let submitButton = document.getElementById("submit-button");
        submitButton.addEventListener('click', deleteEmployee);

        async function deleteEmployee() {
            console.log('comes here');
            const url = "http://localhost:8080/employee/" + employeeId.value + "/delete";
            const params = {
                headers: {
                    "Content-Type" : "application/json"
                },
                method: "DELETE"
            };

            await fetch(url, params)
            .then((response) => {
                console.log(response.status);
                if (response.status === 200) {
                    alert("Employee deleted successfully");
                }
            });
      }
    </script>
  <script src="script.js"></script>
</body>
</html> 